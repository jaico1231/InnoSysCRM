{% load static %}
<style>
  .app-header {
    position: fixed;
    top: 0;
    right: 0;
    left: 400px;
    z-index: 1030;
    background-color: #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .navbar-nav .nav-icon-hover:hover {
    color: #007bff; /* Cambia el color al pasar el mouse */
  }

  .dropdown-menu {
    border-radius: 0.375rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    padding: 0; /* Elimina padding extra */
  }

  .notification {
    position: absolute;
    top: -5px;
    right: -5px;
    width: 10px;
    height: 10px;
    background-color: #28a745; /* Color de la notificaci칩n */
    border-radius: 50%;
    display: none; /* Oculta por defecto */
  }

  .nav-link.dropdown-toggle::after {
      display: none; /* Elimina la flecha por defecto en Bootstrap */
  }
</style>

<header class="app-header">
  <nav class="navbar navbar-expand-lg navbar-light">
      <ul class="navbar-nav">
          <li class="nav-item d-block d-xl-none">
              <a class="nav-link sidebartoggler nav-icon-hover" id="headerCollapse" href="javascript:void(0)">
                  <i class="ti ti-menu-2"></i>
              </a>
          </li>
      </ul>
      <div class="navbar-collapse justify-content-end px-0" id="navbarNav">
          <ul class="navbar-nav flex-row ms-auto align-items-center justify-content-end">
              {% if request.user.is_authenticated %}
                  <li class="nav-item">
                      <a class="btn btn-primary me-3" href="{% url 'shared:index' %}">
                          <i class="bx bx-user"></i>
                          Bienvenido {{ request.user.first_name }} {{ request.user.last_name }}
                      </a>
                  </li>
                  <li class="nav-item dropdown">
                      <a class="nav-link nav-icon-hover position-relative" id="notificationDropdown" href="#" data-bs-toggle="dropdown" aria-expanded="false">
                          <i class="ti ti-bell-ringing"></i>
                          <div class="notification"></div> <!-- Muestra notificaciones -->
                      </a>
                      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="notificationDropdown">
                          <li><a class="dropdown-item" href="#"><i class="ti ti-alert fs-6"></i> Nueva notificaci칩n</a></li>
                      </ul>  
                  </li>
                  <li class="nav-item dropdown">
                      <a class="nav-link nav-icon-hover" href="#" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                          {% if request.user.image %}                          
                              <img src="{{ request.user.image.url }}" alt="Profile Image" width="60" height="60" class="rounded-circle">
                          {% else %}
                              
                              <img src="{% static '/media/img/profile/default-user.jpg' %}" alt="Profile Image" width="60" height="60" class="rounded-circle">
                          {% endif %}
                      </a>
                      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                          <li><a class="dropdown-item d-flex align-items-center gap-2" href="{% url 'shared:userlist' %}"><i class="ti ti-user fs-6"></i> Mi Perfil</a></li>
                          <li><a class="dropdown-item d-flex align-items-center gap-2" href="{% url 'shared:userlist' %}"><i class="ti ti-mail fs-6"></i> Cambiar Contrase침a</a></li>
                          <li><a class="dropdown-item d-flex align-items-center gap-2" href="{% url 'shared:logout' %}"><span class="material-symbols-outlined">logout</span> Salir</a></li>
                      </ul>
                  </li>
              {% else %}
                  <li class="nav-item">
                      <a class="btn btn-primary me-3" href="{% url 'shared:login' %}">
                          <i class="bx bx-user"></i> Iniciar Sesi칩n
                      </a>
                  </li>
              {% endif %}
          </ul>
      </div>
  </nav>
</header>