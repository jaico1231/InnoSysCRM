<!doctype html>
<html lang="es">

  <head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image" href="{% static '/media/img/logos/isotipo.png' %}" />
    
    
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Icons" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet" />
    <link rel="stylesheet" href="{% static 'assets/css/styles.min.css' %}" />
    <link rel="stylesheet" href="{% static 'assets/css/empresa.css' %}" />
    
    <!-- graficos -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>    

    <!-- Select 2 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/i18n/es.js" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" />
    <!-- Or for RTL support -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.rtl.min.css" />
    
    <!-- Libreria bootstrap5.3.2  -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"/>
    <title>
      {% block title %}{% endblock title%}
    </title>
    {% block stylesheets %}{% endblock stylesheets %}
    <style>
      .brand-logo img {
        max-width: 100%;
        max-height: 100%;
        width: auto;
        height: auto;
        padding-top: 20px;
      }
    </style>

  </head>

  <body>
    <!--  Body Wrapper -->
    <div class="page-wrapper" id="main-wrapper" data-layout="vertical" data-navbarbg="skin6" data-sidebartype="full"
      data-sidebar-position="fixed" data-header-position="fixed">
      <!-- Sidebar Start -->
      <aside class="left-sidebar">
        <div>
          <div class="brand-logo d-flex align-items-center justify-content-between">
            <a href="{% url 'shared:userlist' %}" class="text-nowrap logo-img">

              <img src="{% static '/media/img/logos/logo-red.png' %}" width="100%" alt="Logo" />
            </a>
            <div class="close-btn d-xl-none d-block sidebartoggler cursor-pointer" id="sidebarCollapse">
              <i class="ti ti-x fs-8"></i>
            </div>
          </div>
          <nav class="sidebar-nav scroll-sidebar" data-simplebar="">
            <ul id="sidebarnav">
              <!-- {% for template in sidebar_template %}
                  {% include template %}
              {% endfor %} -->
              {% include 'includes/sidebar.html' %}
            </ul>
            <!-- esto es para que no quede escondido ningun menu -->
            <ul>
              <br>
              <br>
              <br>
              <br>
              <br>
            </ul>
          </nav>
        </div>
    </aside>
      {% include 'includes/navigation.html' %}
      <!--  Sidebar End -->
      <!--  Main wrapper -->
      <div class="body-wrapper">
        <!--  Header Start -->
        
        <!--  Header End -->
        <div class="container-fluid">
          {% block content %}{% endblock content %}
          {% include 'includes/modal.html' %}
        </div>
        {% include 'includes/footer.html' %}
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.0/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <!-- estoy probando estas dos lineas de codigo para que funcione el datepicker -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.full.min.js"></script>

    <script type="text/javascript">
    $( '.select2').select2( {
      theme: "bootstrap-5",
      language: "es",
      width: $( this ).data( 'width' ) ? $( this ).data( 'width' ) : $( this ).hasClass( 'w-100' ) ? '100%' : 'style',
      placeholder: $( this ).data( 'placeholder' ),
    });
    </script>
    <script>
      function toggleMenu(menuId) {
        const menu = document.getElementById(menuId);
        if (menu.style.display === "none" || menu.style.display === "") {
            menu.style.display = "block";
        } else {
            menu.style.display = "none";
        }
    }

    window.addEventListener('DOMContentLoaded', (event) => {
        var url = window.location.href;
        var sidebarnav = document.getElementById('sidebarnav');
        var links = sidebarnav.getElementsByTagName('a');

        for (let i = 0; i < links.length; i++) {
            if (links[i].href === url) {
                links[i].classList.add('active');  // Resalta el enlace activo
                let parentMenu = links[i].closest('div');  // Encuentra el contenedor del menú padre
                if (parentMenu && parentMenu.style.display === "none") {
                    parentMenu.style.display = "block";  // Despliega el menú si está colapsado
                }
            }
        }
    });
    </script>

    {% include 'includes/scripts.html' %}
    {% block javascripts %}

    {% endblock javascripts %}
    
    

  </body>
  
</html>